{"version":3,"sources":["theme.js","client.js","config.js","containers/graphql.js","containers/styles.js","containers/components/Header/styles.js","containers/components/Header/NavLink.js","containers/components/Header/index.js","containers/components/Footer/styles.js","containers/components/Footer/index.js","containers/auth.js","containers/Home/index.js","containers/Hints/styles.js","containers/Puzzle/titles.js","containers/Hints/index.js","containers/Leaderboard/styles.js","containers/Leaderboard/components/PuzzTdBackground.js","containers/Leaderboard/components/Entry.js","containers/Leaderboard/components/Scores.js","containers/Leaderboard/index.js","containers/Submit/styles.js","containers/Submit/components/Input.js","containers/Submit/components/Dropdown.js","containers/Submit/components/Form.js","containers/Submit/index.js","containers/PuzzleHome/styles.js","containers/PuzzleHome/index.js","containers/Puzzle/styles.js","containers/Puzzle/index.js","containers/Secret/styles.js","containers/Secret/index.js","App.js","index.js"],"names":["theme","colors","header","vis","invis","fonts","family","httpLink","HttpLink","uri","credentials","middlewareLink","ApolloLink","operation","forward","token","localStorage","getItem","setContext","headers","authorization","errorLink","onError","client","ApolloClient","cache","InMemoryCache","link","from","ALL_USERS","gql","USER_BY_ID","LOGIN","UPDATE_EMAIL","UPDATE_PUZZLES","BackgroundDiv","styled","div","BodyDiv","props","home","Title","h1","bottom","Subtitle","h2","Subsubtitle","StyledP","p","SubP","HiddenLink","Link","StyledHeader","HeaderLeft","HeaderRight","HeaderLink","highlight","cancel","HeaderNotLink","HeaderButton","button","HeaderText","Loader","NavLink","currOnPage","wantOnPage","setCancel","to","onClick","Header","user","setUser","customLogout","loading","onPage","useState","contestStarted","displayName","removeItem","title","StyledFooter","FooterText","StyledA","a","left","Footer","href","target","jwt","require","decodeToken","verify","Home","useQuery","variables","id","onCompleted","userById","skip","date","getDate","substring","Spacer","HintDiv","FancyButton","titles","Hints","Array","length","fill","show","setShow","toggle","idx","newShow","slice","hints","src","map","el","StyledTd","td","RankTd","NameTd","TimeTd","PuzzTd","img","lastTwo","PuzzLink","PuzzTitle","hover","StyledTable","table","StyledRow","tr","StyledTableBody","tbody","StyledTableHead","thead","PuzzTdBackground","type","done","cantSee","first","Entry","index","scores","updatedAt","realUpdatedAt","score","firsts","loggedId","foundSecret","numPuzzlesPlus1","numPuzzles","newScores","concat","getType","contestOver","milli","Date","parseInt","dateStr","toLocaleDateString","timeZone","day","month","year","timeStr","toLocaleTimeString","hour","minute","l","ampm","getDateString","Scores","setLoading","setHover","partialRefetch","error","allUsers","reduce","acc","data","queryError","queryLoading","keys","onMouseEnter","e","onMouseLeave","className","lst","loggedIn","scoresCanSee","toString","split","reverse","forEach","out","sort","b","sortedData","entry","Leaderboard","setId","useEffect","document","StyledInput","input","StyledSelect","select","FormDiv","InputDiv","InputTitle","TitleDiv","TextBoxDiv","MessageDiv","ErrorMsg","LoadingMsg","SuccessMsg","Input","label","state","setState","onKeyPress","setSucc","value","onChange","Dropdown","options","Form","err","setErr","setToken","tokenExists","setTokenExists","name","setName","password","setPass","emailErr","setEmailErr","succ","emailSucc","setEmailSucc","email","setEmail","puzzle","setPuzzle","answer","setAnswer","setOptions","checkErr","msg","includes","replace","lowestUnsolved","num","i","userLoading","useMutation","message","login","setItem","refetchQueries","query","loginLoading","updateEmail","emailLoading","upd","console","log","updatePuzzles","indx","puzzLoading","loginButton","errStr","test","verifyUsername","loginEnter","code","emailButton","toLowerCase","Submit","logout","PuzzleLink","PuzzleHome","FullDiv","Puzzle","useParams","charAt","toUpperCase","width","height","Secret","getFullYear","getMilliseconds","App","setTimeout","forceRefresh","ApolloProvider","style","visibility","exact","path","component","join","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d0d8d6c2.chunk.js","sourcesContent":["// Add global styles and fonts here\n\nconst themeColor = '30,60,120'\n\nconst theme = {\n  colors: {\n    header: 'rgb('+themeColor+')',\n    vis: 'rgba('+themeColor+',0.85)',\n    invis: 'rgba('+themeColor+',0)',\n  },\n  fonts: {\n    family: 'Arial, Helvetica, sans-serif',\n  },\n}\n\nexport default theme\n","import { ApolloClient } from 'apollo-client'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\nimport { HttpLink } from 'apollo-link-http'\nimport { onError } from 'apollo-link-error'\nimport { ApolloLink } from 'apollo-link'\nimport config from './config'\n\nconst httpLink = new HttpLink({\n  uri: config.graphqlUrl,\n  credentials: 'include',\n})\n\n\nconst middlewareLink = new ApolloLink((operation, forward) => {\n  const token = localStorage.getItem('token')\n  if (token) {\n    operation.setContext({\n      headers: {\n        authorization: token,\n      },\n    })\n  }\n\n  return forward(operation)\n})\n\nconst errorLink = onError(() => {\n  // Handle specific errors here\n  //   e.g. redirect to login on AuthenticationError\n})\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: ApolloLink.from([\n    errorLink,\n    middlewareLink,\n    httpLink,\n  ]),\n})\n\nexport default client\n","export default {\n  graphqlUrl: 'https://hph-leaderboard-backend.herokuapp.com/',\n}\n","import gql from 'graphql-tag'\n\nexport const ALL_USERS = gql`\n  query allUsers {\n    allUsers {\n      id\n      displayName\n      score\n      firsts\n      lastTwo\n      foundSecret\n      updatedAt\n      realUpdatedAt\n    }\n  }\n`\n\nexport const USER_BY_ID = gql`\n  query userById($id: ID!) {\n    userById(id: $id) {\n      id\n      displayName\n      email\n      score\n      firsts\n      foundSecret\n      createdAt\n      realUpdatedAt\n    }\n  }\n`\n\nexport const LOGIN = gql`\n  mutation login($displayName: String!, $password: String!) {\n    login(displayName: $displayName, password: $password) {\n      token\n      user {\n        id\n        displayName\n        email\n        score\n        firsts\n        foundSecret\n        createdAt\n        realUpdatedAt\n      }\n    }\n  }\n`\n\nexport const UPDATE_EMAIL = gql`\n  mutation updateEmail($id: ID!, $email: String!) {\n    updateEmail(id: $id, email: $email) {\n        id\n        displayName\n        email\n        score\n        firsts\n        createdAt\n        realUpdatedAt\n    }\n  }\n`\n\nexport const UPDATE_PUZZLES = gql`\n  mutation updatePuzzles($id: ID!, $puzzle: Int!, $answer: String!) {\n    updatePuzzles(id: $id, puzzle: $puzzle, answer: $answer) {\n        id\n        displayName\n        email\n        score\n        firsts\n        foundSecret\n        createdAt\n        realUpdatedAt\n    }\n  }\n`\n","import styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nexport const BackgroundDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100vw;\n  /* min-height: 100vh; */\n  margin: 0;\n  padding-bottom: 80px;\n  padding-top: 48px;\n  /* background-color: palegoldenrod; */\n`\n\nexport const BodyDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  /* padding-top: 30px;\n  padding-bottom: 150px; */\n  padding: ${props => props.home ? \"50px 260px\" : \"50px\"};\n  margin: 10px auto auto auto;\n  background-color: white;\n  /* border: rgba(40,40,40,0.5) 4px; */\n  /* border-style: solid; */\n  text-align: center;\n  font-family: ${({theme}) => theme.fonts.family};\n  /* position: fixed; */\n  /* top: 2vh; */\n  /* background-color: rgba(108,128,150,0.8); */\n  /* animation: color-change 40s infinite;\n  position: center;\n  @keyframes color-change {\n    0% { background-color: rgba(100,128,150,0.8); }\n    20% { background-color: rgba(128,128,100,0.8); }\n    40% { background-color: rgba(100,128,128,0.8); }\n    60% { background-color: rgba(150,100,128,0.8); }\n    80% { background-color: rgba(128,150,100,0.8); }\n    100% { background-color: rgba(108,128,150,0.8); }\n  } */\n`\n\nexport const Title = styled.h1`\n  font-weight: bold;\n  font-size: 40px;\n  margin-top: 8px;\n  margin-bottom: 17px;\n  padding: ${props => props.bottom ? \"25px 0px 0px 0px\" : (props.home ? \"0px 100px\" : \"0px\")};\n`\n\nexport const Subtitle = styled.h2`\n  font-weight: 550;\n  font-size: 27px;\n  margin-top: 12px;\n  margin-bottom: 0px;\n  text-align: left;\n`\n\nexport const Subsubtitle = styled.h2`\n  font-style: italic;\n  font-weight: normal;\n  font-size: 20px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n  padding-left: 30px;\n  text-align: left;\n`\n\nexport const StyledP = styled.p`\n  text-align: left;\n`\n\nexport const SubP = styled.p`\n  text-align: left;\n  padding-left: 30px;\n  margin-top: 10px;\n`\n\nexport const HiddenLink = styled(Link)`\n  color: black;\n  cursor: inherit;\n  text-decoration: none;\n`","import styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nexport const StyledHeader = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 100;\n  font-family: ${({theme}) => theme.fonts.family};\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  background-color: ${({theme}) => theme.colors.header};\n  height: auto;\n  width: 100vw;\n`\n\nexport const HeaderLeft = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  height: auto;\n`\n\nexport const HeaderRight = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  height: auto;\n`\n\nexport const HeaderLink = styled(Link)`\n  color: ${props => (!props.highlight || props.cancel) ? 'white' : props.theme.colors.header};\n  background-color: ${props => (props.highlight && !props.cancel) ? 'white' : props.theme.colors.header};\n  text-align: center;\n  font-size: 23px;\n  text-decoration: none;\n  padding: 15px 18px 15px 18px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: ${({cancel}) => cancel ? 'background-color 0.06s ease, color 0.06s ease' : 'background-color 0.2s ease, color 0.2s ease'};\n\n  &:hover {\n    background-color: white;\n    color: ${({theme}) => theme.colors.header};\n  }\n`\n\nexport const HeaderNotLink = styled.div`\n  color: ${props => 'white'};\n  background-color: ${props => props.theme.colors.header};\n  text-align: center;\n  font-size: 23px;\n  text-decoration: none;\n  padding: 15px 18px 15px 18px;\n  font-weight: bold;\n  cursor: default;\n`\n\nexport const HeaderButton = styled.button`\n  color: white;\n  text-align: center;\n  font-size: 23px;\n  font-family: ${({theme}) => theme.fonts.family};\n  border: none;\n  background-color: transparent;\n  padding: 15px 18px 15px 18px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: background-color 0.3s ease, color 0.3s ease;\n\n  &:hover {\n    background-color: white;\n    color: ${({theme}) => theme.colors.header};\n  }\n`\n\nexport const HeaderText = styled.p`\n  color: white;\n  text-align: center;\n  font-size: 23px;\n  padding: 15px 18px 15px 18px;\n  margin: 0;\n  font-weight: bold;\n`\n\nexport const Loader = styled.div`\n  align-self: center;\n  border: 4px solid #f3f3f3;\n  border-bottom: ${({theme}) => `4px solid ${theme.colors.header}`};\n  border-radius: 50%;\n  margin-right: 15px;\n  width: 15px;\n  height: 15px;\n  animation: spin 13.2s cubic-bezier(0.2, 0.5, 0.7, 0.5) infinite;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    /* 100% { transform: rotate(360deg); } */\n    10% { transform: rotate(396deg); }\n    20% { transform: rotate(792deg); }\n    30% { transform: rotate(1188deg); }\n    40% { transform: rotate(1584deg); }\n    50% { transform: rotate(1980deg); }\n    60% { transform: rotate(2376deg); }\n    70% { transform: rotate(2772deg); }\n    80% { transform: rotate(3168deg); }\n    90% { transform: rotate(3564deg); }\n    100% { transform: rotate(3960deg); }\n  }\n`\n","import React, { useState } from 'react'\nimport { HeaderLink } from './styles'\n\nconst NavLink = ({ link, currOnPage, wantOnPage, cancel, setCancel }) => (\n  <HeaderLink\n    to={link}\n    highlight={currOnPage==wantOnPage ? \"yes\" : \"\"}\n    cancel={!!cancel ? \"yes\" : \"\"}\n    onClick={() => setCancel(true)}\n  >{wantOnPage}</HeaderLink>\n)\n\nexport default NavLink\n","import React, { useState } from 'react'\nimport {\n  StyledHeader, HeaderLeft, HeaderRight,\n  HeaderButton, HeaderText, Loader, HeaderNotLink,\n} from './styles'\nimport NavLink from './NavLink'\nimport { contestStarted } from '../../../App'\n\nconst Header = ({ user, setUser, customLogout, loading, onPage }) => {\n  const [cancel, setCancel] = useState(false)\n  const logout = () => {\n    localStorage.removeItem('token')\n    setUser({})\n    if (!!customLogout) {\n      customLogout()\n    }\n  }\n  if (contestStarted) {\n    return (\n      <StyledHeader>\n        <HeaderLeft>\n          <NavLink link=\"/\" currOnPage={onPage} wantOnPage=\"Home\" cancel={cancel} setCancel={setCancel}>Home</NavLink>\n          <NavLink link=\"/leaderboard\" currOnPage={onPage} wantOnPage=\"Leaderboard\" cancel={cancel} setCancel={setCancel}>Leaderboard</NavLink>\n          <NavLink link=\"/submit\" currOnPage={onPage} wantOnPage=\"Submit\" cancel={cancel} setCancel={setCancel}>Submit</NavLink>\n          <NavLink link=\"/puzzles\" currOnPage={onPage} wantOnPage=\"Puzzles\" cancel={cancel} setCancel={setCancel}>Puzzles</NavLink>\n          <NavLink link=\"/hints\" currOnPage={onPage} wantOnPage=\"Hints\" cancel={cancel} setCancel={setCancel}>Hints</NavLink>\n        </HeaderLeft>\n        { (!!user && !!user.displayName) ?\n          <HeaderRight>\n            <HeaderText>{`Welcome, ${user.displayName}!`}</HeaderText>\n            <HeaderButton onClick={logout}>Logout</HeaderButton>\n          </HeaderRight> :\n          (loading && <Loader/>)\n        }\n      </StyledHeader>\n    )\n  }\n  return (\n    <StyledHeader>\n      <HeaderLeft>\n        <NavLink link=\"/\" currOnPage={onPage} wantOnPage=\"Home\" cancel={cancel} setCancel={setCancel}>Home</NavLink>\n        <HeaderNotLink title=\"locked\">Leaderboard</HeaderNotLink>\n        <HeaderNotLink title=\"locked\">Submit</HeaderNotLink>\n        <HeaderNotLink title=\"locked\">Puzzles</HeaderNotLink>\n        <HeaderNotLink title=\"locked\">Hints</HeaderNotLink>\n      </HeaderLeft>\n      <HeaderRight>\n        <HeaderText>Site under maintenance... will be back in ~30 minutes!</HeaderText>\n      </HeaderRight>\n    </StyledHeader>\n  )\n}\n\nexport default Header\n","import styled from 'styled-components'\n\nexport const StyledFooter = styled.div`\n  font-family: ${({theme}) => theme.fonts.family};\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  z-index: 100;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  background-color: ${({theme}) => theme.colors.header};\n  height: auto;\n  width: auto;\n`\n\nexport const FooterText = styled.p`\n  color: white;\n  text-align: center;\n  font-size: 16px;\n  padding: 7px 12px;\n  margin: 0;\n`\n\nexport const StyledA = styled.a`\n  color: white;\n  padding-left: ${props => props.left || \"13px\"};\n`","import React from 'react'\nimport {\n  StyledFooter, FooterText, StyledA,\n} from './styles'\n\nconst Footer = () => (\n  <StyledFooter>\n    <FooterText>\n      <StyledA href=\"https://forms.gle/SP87FiVKo82SiEAd6\" target=\"_blank\" left={true}>Join our mailing list</StyledA>!\n      <StyledA href=\"https://forms.gle/F1FX6ZMaTczHp1xTA\" target=\"_blank\">Report a bug/error</StyledA>?\n      <StyledA href=\"https://forms.gle/hQw2ZWS7qaNbZsBd9\" target=\"_blank\">Have a suggestion/feedback</StyledA>?\n    </FooterText>\n  </StyledFooter>\n)\n\nexport default Footer\n","const jwt = require('jsonwebtoken')\n\nconst tokenSecret = 'wqpjohaxlzuksfjeihndawhbap'\nexport const decodeToken = token => {\n  if (!token) {\n    return false\n  }\n  try {\n    return jwt.verify(token, tokenSecret)\n  } catch {\n    return false\n  }\n}\n","import React, { useState } from 'react'\nimport { useQuery } from '@apollo/react-hooks'\nimport { USER_BY_ID } from '../graphql'\nimport {\n  BackgroundDiv, BodyDiv, Title, Subtitle, StyledP, Subsubtitle, SubP, HiddenLink,\n} from '../styles'\nimport Header from '../components/Header'\nimport Footer from '../components/Footer'\nimport { decodeToken } from '../auth'\nimport { getDate } from '../../App'\nimport { contestStarted } from '../../App'\n\nconst Home = () => {\n  const [user, setUser] = useState({})\n  const { loading } = useQuery(USER_BY_ID, {\n    variables: {\n      id: decodeToken(localStorage.getItem('token')).id\n    },\n    onCompleted: ({ userById: user }) => {\n      setUser(user)\n    },\n    skip: !localStorage.getItem('token'),\n  })\n  const date = getDate()+(getDate+1).substring(46,49)\n  return (\n    <BackgroundDiv>\n      <Header user={user} setUser={setUser} loading={loading} onPage=\"Home\" />\n      <BodyDiv home={true}>\n        <Title home={true}>Welcome to Harvard Puzzle Club's first Puzzle Hunt!</Title>\n        <Subtitle>About Us</Subtitle>\n        <StyledP>\n          We've set out to start a club at Harvard centered entirely around <b>recreational (and sometimes slightly competitive) puzzle solving</b>.\n          Currently, there really isn't a club at Harvard for the puzzle enthusiast community, and we\n          really think there should be. A couple of us actually met through CS50 Puzzle Day, and we\n          really loved how that event pulled together a huge community of puzzle-solvers... but sadly\n          it only happens once a year! Harvard Puzzle Club aims to change that by hosting a puzzle hunt\n          (tentatively) 4 times a year and being active year-round for all things puzzle-y. We'll have\n          regular puzzle sessions for sharing puzzles we've written and challenging our friends to try\n          to solve them. Some of them could end up in an actual hunt! If you like puzzles at all,\n          please <b>join our mailing list below</b>-- we'll be applying for club status in the fall and any support\n          can go a long way!\n        </StyledP>\n        <Subtitle>About the Contest</Subtitle>\n        <StyledP>\n          This summer, we're rolling out the first run of the Harvard Puzzle Hunt. This first round is\n          a <b>beta version</b>, so any feedback about bugs, design suggestions, or anything in general is much\n          appreciated (links below).\n        </StyledP>\n        <Subsubtitle>Registering</Subsubtitle>\n        <SubP>\n          You can register as an <b>individual or as a team of any size</b>, but keep in mind you'll have to\n          share the prize money among your whole team. To simplify things, the website is configured\n          such that registering a new team and logging in as a returning team use the same form,\n          located under the <b>Submit page</b>. If you've ever used when2meet, the form works the same way.\n          To register, simply enter your information, and make sure the rest of your team also knows\n          the credentials. Then, when you return, you can enter the same information to log in. If you want us to\n          be able to contact you should you win a prize, make sure to <b>fill in your email</b>!\n        </SubP>\n        <Subsubtitle>Puzzles</Subsubtitle>\n        <SubP>\n          <b>Puzzles can be solved in any order</b>, but some are harder than others.\n          The length of the contest will be one month, but it is meant to be largely open-ended.\n          However, we expect every puzzle to be solved before that deadline, so <b>the winner will be the\n          first to solve <i>all</i> the puzzles</b>.\n          Since team sizes are unlimited and you have a full month to solve these,\n          one or more of the puzzles may take a pretty long time. We highly suggest splitting up grunt work\n          among multiple team members if you're willing to split the prize.\n          The leaderboard will hide your last solve in order to maintain some level\n          of mystery throughout the hunt, and final standings won't be released until the hunt is over.\n          Be on the look out for extra clues-- <b>there might be some {\n            contestStarted ? <HiddenLink to={`/${date}`}>secret features...</HiddenLink> : \"secret features...\"\n          } </b>\n        </SubP>\n        <Subsubtitle>Prizes</Subsubtitle>\n        <SubP>\n          The <b>overall winner will win the grand prize of $15</b>, and the <b>first solvers for each puzzle\n          will each win mini prizes of $3 each as well</b>, but there's no limit on the number of \n          prizes a single team can win (prizes will get <b><i>much</i> bigger</b> once we get\n          funding-- <b>join our mailing list</b> to help make that happen!). So be strategic about which puzzles you start with!\n          The <b>top 25 teams will get first dibs for puzzle submissions for the next contest</b>, so if that's\n          something you're interested in, this would be a great way to get your name in! If you want to\n          redeem a prize, <b>make sure you've filled out your email</b> in the form so that we know who you are\n          and have a way of contacting you.\n        </SubP>\n        <Subtitle>Interested in Joining?</Subtitle>\n        <StyledP>\n          If you enjoy the hunt and want to participate next time, please <b>join our mailing list below</b> so that you're\n          up to date on all Harvard Puzzle Club news.\n          If you want to be a part of the next contest <b>as a puzzle-<i>writer</i></b>, there's a place to indicate\n          that on the form as well (remember you can get first dibs by making top 25!).\n        </StyledP>\n        <Title bottom={true}>Good Luck Puzzlers!</Title>\n      </BodyDiv>\n      <Footer/>\n    </BackgroundDiv>\n  )\n}\n\nexport default Home\n","import styled from 'styled-components'\n\nexport const Spacer = styled.div`\n  height: 25px;\n`\n\nexport const Subtitle = styled.h2`\n  font-weight: 550;\n  font-size: 27px;\n  margin-top: 12px;\n  margin-bottom: 0px;\n  text-align: center;\n`\n\nexport const HintDiv = styled.div`\n  margin-top: 15px;\n  margin-bottom: 5px;\n  text-align: center;\n`\n\nexport const FancyButton = styled.button`\n  /* background: rgb(100,220,100); */\n  background: rgb(138,249,81);\n  border: black 1px;\n  border-style: solid;\n  border-radius: 4px;\n  font-family: ${({theme}) => theme.fonts.family};\n  cursor: pointer;\n  margin-top: 11px;\n  padding: 2px;\n  width: 80px;\n  align-self: center;\n\n  &:hover {\n    color: white;\n    /* background-color: rgb(10,150,10); */\n    background-color: rgb(122,222,107);\n  }\n`","const titles = [\n  \"Alien Hieroglyphics\",\n  \"Old Calculators\",\n  \"Infinite Recursion Error\",\n  \"Projectve Set\",\n]\n\nexport default titles","import React, { useState } from 'react'\nimport { useQuery } from '@apollo/react-hooks'\nimport { USER_BY_ID } from '../graphql'\nimport {\n  BackgroundDiv, BodyDiv, Title, StyledP,\n} from '../styles'\nimport {\n  Spacer, HintDiv, FancyButton, Subtitle,\n} from './styles'\nimport Header from '../components/Header'\nimport Footer from '../components/Footer'\nimport { decodeToken } from '../auth'\nimport { getDate } from '../../App'\nimport titles from '../Puzzle/titles'\n\nconst Hints = () => {\n  const [user, setUser] = useState({})\n  const [show, setShow] = useState(Array(titles.length).fill(false))\n  const { loading } = useQuery(USER_BY_ID, {\n    variables: {\n      id: decodeToken(localStorage.getItem('token')).id\n    },\n    onCompleted: ({ userById: user }) => {\n      setUser(user)\n    },\n    skip: !localStorage.getItem('token'),\n  })\n  const date = getDate()+(getDate+1).substring(46,49)\n  const toggle = idx => (\n    () => {\n      const newShow = show.slice()\n      newShow[idx] = !newShow[idx]\n      setShow(newShow)\n    }\n  )\n  const hints = [\n    // <HintDiv>We were able to <i>trace</i> these symbols back to an ancient extraterrestrial species. They somehow <i>crossed</i> the galaxy, each <i>originating</i> from some faraway <i>dot</i> in the night sky <i>in order</i> to eventually <i>converge</i> here on Earth.</HintDiv>,\n    <HintDiv>We were able to trace these symbols back to an ancient extraterrestrial species. They somehow crossed the galaxy, each originating from some faraway dot in the night sky in order to eventually converge here on Earth.</HintDiv>,\n    <HintDiv><img src=\"https://education.ti.com/-/media/ti/education/images/products/product-details/scientifics/ti-30-eco-rs/ti30ecors_front_keyfeatures.png?rev=3fd0dc61-b6a1-4328-9acd-9fc112456e2c&h=482&w=247&la=en-GB&hash=3501E85215645C6B436ECEE6E33DB51685BADE24\"/></HintDiv>,\n    <HintDiv>That's not an emoticon.</HintDiv>,\n    <HintDiv>Try solving this Rebus puzzle first: MCE MCE MCE</HintDiv>,\n  ]\n  return (\n    <BackgroundDiv>\n      <Header user={user} setUser={setUser} loading={loading} onPage=\"Hints\" />\n      <BodyDiv home={true}>\n        <Title>Click below for some hints! If you do not wish to see a specific hint, DON'T click on it!</Title>\n        {\n          titles.map((el,idx) => (\n            <>\n              <Spacer/>\n              <Subtitle>{el}</Subtitle>\n              <FancyButton onClick={toggle(idx)}>{show[idx] ? \"hide\" : \"show\"}</FancyButton>\n              { show[idx] && hints[idx] }\n            </>\n          ))\n        }\n        {/* <Spacer/>\n        <Subtitle>Alien Hieroglphyics</Subtitle>\n        <FancyButton>show</FancyButton>\n        <Spacer/>\n        <Subtitle>Old Calculators</Subtitle>\n        <FancyButton>show</FancyButton> */}\n      </BodyDiv>\n      <Footer/>\n    </BackgroundDiv>\n  )\n}\n\nexport default Hints\n","import styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nexport const LeaderboardDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  /* padding-top: 30px;\n  padding-bottom: 150px; */\n  padding: 50px;\n  margin: auto;\n  background-color: white;\n  /* border: rgba(40,40,40,0.5) 4px; */\n  /* border-style: solid; */\n  text-align: center;\n  /* position: fixed; */\n  /* top: 2vh; */\n  /* background-color: rgba(108,128,150,0.8); */\n  /* animation: color-change 40s infinite;\n  position: center;\n  @keyframes color-change {\n    0% { background-color: rgba(100,128,150,0.8); }\n    20% { background-color: rgba(128,128,100,0.8); }\n    40% { background-color: rgba(100,128,128,0.8); }\n    60% { background-color: rgba(150,100,128,0.8); }\n    80% { background-color: rgba(128,150,100,0.8); }\n    100% { background-color: rgba(108,128,150,0.8); }\n  } */\n`\n\nexport const StyledTd = styled.td`\n  padding: 12px;\n  font-size: 15px;\n  text-align: left;\n  border: solid rgb(235,235,235) 1px;\n  /* border-collapse: collapse; */\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`\n\nexport const RankTd = styled(StyledTd)`\n  width: 20px;\n`\n\nexport const NameTd = styled(StyledTd)`\n  width: 305px;\n  max-width: 305px;\n`\n\nexport const TimeTd = styled(StyledTd)`\n  width: 200px;\n`\n\nexport const PuzzTd = styled(StyledTd)`\n  position: relative;\n  width: 19px;\n  /* max-width: 43px; */\n  text-align: center;\n  background-image: ${props => props.img};\n  background-position: ${props => props.lastTwo ? \"51% 50%\" : \"50% 50%\"};\n  background-size: cover;\n  background-repeat: no-repeat;\n`\n\nexport const PuzzLink = styled(Link)`\n  position: absolute;\n  left: 0%;\n  top: 0%;\n  width: 100%;\n  height: 100%;\n  padding: 12px 0;\n  text-align: center;\n  text-decoration: none;\n  color: rgb(120,120,220);\n  &:hover {\n    color: rgb(150,150,220);\n  };\n`\n\nexport const PuzzTitle = styled.div`\n  position: absolute;\n  white-space: nowrap;\n  top: -75%;\n  left: 50%;\n  transform: translate(-50%,0%);\n  padding: 4px 8px 4px 8px;\n  border-radius: 3px;\n  text-align: center;\n  font-size: 16px;\n  font-weight: normal;\n  visibility: ${props => props.vis ? 'visible' : 'hidden'};\n  color: ${props => props.vis ? 'rgba(255,255,255,1)' : 'rgba(255,255,255,0)'};\n  background-color: ${props => props.vis ? (({theme}) => theme.colors.vis) : (({theme}) => theme.colors.invis)};\n  transition: visibility 0.4s ease, color 0.4s ease, background-color 0.4s ease;\n  /* visibility: hidden;\n  color: rgba(255,255,255,0);\n  background-color: rgba(30,60,120,0);\n  animation: ${props => props.hover == props.el ? 'appear 2s 0.09s forwards' : props.hover != -2 && 'disappear 2s'};\n  -webkit-animation: ${props => props.hover == props.el ? 'appear 2s 0.09s forwards' : props.hover != -2 && 'disappear 2s'};\n  @keyframes appear {\n    0% {\n      color: rgba(255,255,255,0);\n      background-color: rgba(30,60,120,0);\n    }\n    100% {\n      color: rgba(255,255,255,1);\n      background-color: rgba(30,60,120,0.85);\n      visibility: visible;\n    }\n  };\n  @keyframes disappear {\n    0% {\n      color: rgba(255,255,255,1);\n      background-color: rgba(30,60,120,0.85);\n      visibility: visible;\n    }\n    100% {\n      color: rgba(255,255,255,0);\n      background-color: rgba(30,60,120,0);\n    }\n  } */\n`\n\nexport const StyledTable = styled.table`\n  margin-top: 10px;\n  border-collapse: collapse;\n  /* border: solid rgb(235,235,235) 1px;\n  border-radius: 6px;\n  background: rgb(235,235,235);\n  -moz-border-radius:6px; */\n`\n\nexport const StyledRow = styled.tr`\n  background: ${props => props.highlight && 'rgb(239,248,252)'};\n  /* border: ${props => props.highlight && 'solid rgba(255,0,0,0.5) 2px'}; */\n  box-shadow: ${props => props.highlight && 'inset 1px 1px 5px 1px rgb(205,205,205), inset 0px 0px 5px 1px rgb(205,205,205)'};\n`\n\nexport const StyledTableBody = styled.tbody`\n  background-color: white;\n`\n\nexport const StyledTableHead = styled.thead`\n  font-weight: bold;\n  font-size: 18px;\n  background-color: rgb(248,248,248);\n  color: rgb(120,120,120);\n`","import React from 'react'\nimport { PuzzTd } from '../styles'\n\nconst PuzzTdBackground = ({ type }) => (\n  (type.done || type.lastTwo) ?\n  <PuzzTd\n    img={\n      type.lastTwo ? \"url('https://harvardpuzzles.github.io/leaderboard/questionstraight.png')\" :\n      type.cantSee ? \"url('https://harvardpuzzles.github.io/leaderboard/check_first%20checkstraight.png')\" :\n      type.first ? \"url('https://harvardpuzzles.github.io/leaderboard/first%20check.png')\" :\n      type.done && \"url('https://harvardpuzzles.github.io/leaderboard/check.png')\"\n    }\n    title={\n      type.lastTwo ? \"Maybe solved?\" :\n      type.cantSee ? \"Solved! Maybe first?\" :\n      type.first ? \"First to solve!\" :\n      type.done && \"Solved!\"\n    }\n    lastTwo={type.lastTwo}\n  /> :\n  <PuzzTd/>\n)\n\nexport default PuzzTdBackground","import React from 'react'\nimport PuzzTdBackground from './PuzzTdBackground'\nimport {\n  RankTd,\n  NameTd,\n  TimeTd,\n  StyledRow,\n} from '../styles'\nimport { numPuzzles, contestOver } from '../../../App'\n\nconst Entry = ({\n  index, displayName, scores, updatedAt, realUpdatedAt, score, firsts, lastTwo, show, id, loggedId, foundSecret,\n}) => {\n  const numPuzzlesPlus1 = numPuzzles + 1\n  const highlight = id == loggedId\n  // const highlight = index == loggedIn\n  const getDateString = milli => {\n    const date = new Date(parseInt(milli))\n    const dateStr = date.toLocaleDateString(\"en-US\", {\n      timeZone:'America/New_York',\n      day:'numeric',\n      month:'numeric',\n      year:'2-digit',\n    })\n    const timeStr = date.toLocaleTimeString(\"en-US\", {\n      timeZone:'America/New_York',\n      hour:'numeric',\n      minute:'numeric',\n    })\n    const l = timeStr.length\n    const ampm = timeStr[l-2] == \"A\" ? \"am\" : \"pm\"\n    const time = timeStr.substring(0,l-3)\n    return dateStr+' '+time+ampm+(!contestOver && score - (!scores[numPuzzlesPlus1] ? 0 : 1) == numPuzzlesPlus1 - 2 && !highlight ? ' (?)' : '')\n  }\n  // const newScores = scores.concat(Array(numPuzzles - scores.length + 1).fill(0))\n  const newScores = !scores[numPuzzlesPlus1]\n    ? scores.slice(0,numPuzzles).concat(Array(numPuzzles - scores.length + 1).fill(0))\n    : scores.slice(0,numPuzzles).concat(scores.slice(numPuzzlesPlus1))\n  // if (highlight) {\n  //   newScores.forEach((el,idx) => {\n  //     console.log(lastTwo[idx] && !contestOver && highlight && el)\n  //   })\n  // }\n  const getType = (el,idx) => ({\n    done: el > 0,\n    first: !!firsts[idx],\n    lastTwo: !contestOver && !highlight && !!lastTwo[idx],\n    cantSee: !contestOver && el == 1,\n  })\n  return (\n    <StyledRow highlight={highlight}>\n      <RankTd>{`${index + 1}`}</RankTd>\n      <NameTd>{`${displayName}`}</NameTd>\n      <TimeTd>{`${getDateString(highlight ? realUpdatedAt : updatedAt)}`}</TimeTd>\n      {/* {newScores.slice(0,numPuzzles).map((el,idx) => {\n        return (<PuzzTd key={idx} {...getType(el,idx)} title=\"hi\"/>)\n      })}\n      {!!show && (newScores[numPuzzles] > 0 || highlight || contestOver) && <PuzzTd {...getType(newScores[numPuzzles],numPuzzles)} />} */}\n      {newScores.slice(0,numPuzzles).map((el,idx) => (\n        <PuzzTdBackground key={idx} type={getType(el,idx)} />\n      ))}\n      {!!show && (foundSecret || newScores[numPuzzles] > 0 || contestOver) &&\n        <PuzzTdBackground type={getType(newScores[numPuzzles],numPuzzlesPlus1)} />\n      }\n    </StyledRow>\n  )\n}\n\nexport default Entry","import React, { useState } from 'react'\nimport { useQuery } from '@apollo/react-hooks'\nimport Entry from './Entry'\nimport { numPuzzles, contestOver } from '../../../App'\nimport titles from '../../Puzzle/titles'\nimport {\n  StyledTable,\n  RankTd,\n  NameTd,\n  PuzzTd, PuzzLink, PuzzTitle,\n  TimeTd,\n  StyledTableBody,\n  StyledTableHead,\n} from '../styles'\nimport { ALL_USERS } from '../../graphql'\nimport { decodeToken } from '../../auth'\n\nconst Scores = ({ setUser, loggedId, setLoading }) => {\n  const numPuzzlesPlus1 = numPuzzles + 1\n  const [hover, setHover] = useState(-2)\n  const [show, setShow] = useState(1)\n  const { data, error: queryError, loading: queryLoading } = useQuery(ALL_USERS, {\n    partialRefetch: true,\n    onError: error => { return },\n    onCompleted: ({ allUsers }) => {\n      setLoading(false)\n      // setShow(allUsers.reduce((acc,el) => (\n      //   acc+(el.score.toString(3).split(\"\").reverse()[numPuzzles] == \"2\" ? 1 : 0)\n      // ),0) > 0 ? 2 : 1)\n      setShow(allUsers.reduce((acc,el) => (\n        acc+(el.foundSecret ? 1 : 0)\n      ),0) > 0 ? 2 : 1)\n    },\n  })\n  const sortedData = () => {\n    let lst = data.allUsers\n    const loggedIn = lst.reduce((acc,el,idx) => (\n      el.id == decodeToken(localStorage.getItem('token')).id ? idx : acc\n    ), -1)\n    const scoresCanSee = Array(numPuzzlesPlus1+1).fill(false)\n    if (loggedIn != -1) {\n      setUser(data.allUsers[loggedIn])\n      const scores = lst[loggedIn].score.toString(3).split(\"\").reverse().map(el => parseInt(el))\n      const firsts = lst[loggedIn].firsts.toString(2).split(\"\").reverse().map(el => parseInt(el))\n      const lastTwo = lst[loggedIn].lastTwo.toString(2).split(\"\").reverse().map(el => parseInt(el))\n      lastTwo.forEach((el,idx) => {\n        if (!!el) {\n          const onlyOne = lst.reduce((acc,el,id) => {\n            if (id == loggedIn) {\n              return acc\n            }\n            return (acc && !el.lastTwo.toString(2).split(\"\").reverse().map(el => parseInt(el))[idx])\n          },true)\n          if (onlyOne){\n            scoresCanSee[idx] = true\n          }\n        }\n      })\n      scores.forEach((el,idx) => {\n        if (el == 2 && firsts[idx] == 1) {\n          scoresCanSee[idx] = true\n        }\n      })\n    }\n    lst = lst.map((el,idx) => {\n      const scores = el.score.toString(3).split(\"\").reverse().map((el,idx) => (\n        scoresCanSee[idx] ? (!parseInt(el) ? 0 : 2) : parseInt(el)\n      ))\n      const firsts = el.firsts.toString(2).split(\"\").reverse().map(el => parseInt(el))\n      const lastTwo = el.lastTwo.toString(2).split(\"\").reverse().map(el => parseInt(el))\n      const out = {\n        ...el,\n        scores,\n        firsts,\n        lastTwo,\n        score: scores.reduce((acc,el) => acc+(el > 0 ? 1 : 0), 0),\n        updatedAt: el.realUpdatedAt,\n        foundSecret: el.foundSecret,\n        highlight: idx == loggedIn,\n      }\n      if (!contestOver) {\n        out.updatedAt = el.updatedAt\n        out.score -= scores.reduce((acc,el,idx) => acc+(el > 0 ? 1 : 0)*(!!lastTwo[idx] ? 1 : 0), 0)\n      }\n      return out\n    })\n    lst.sort((a,b) => (b.score - a.score)*10000000000 + (a.updatedAt - b.updatedAt)*0.0001)\n    return lst\n  }\n  return (\n    <>\n      <StyledTable>\n        <StyledTableHead>\n          <tr>\n            <RankTd>RK</RankTd>\n            <NameTd>NAME</NameTd>\n            <TimeTd>LAST SOLVE (ET)</TimeTd>\n            {[...Array(numPuzzles+show).keys()].slice(1).map((el,idx) =>\n              <PuzzTd key={idx} >\n                {idx == numPuzzles ? \"?\" : (<>\n                  <PuzzLink\n                    to={`/puzzles/${el}`}\n                    onMouseEnter={e => setHover(el)}\n                    onMouseLeave={e => setHover(-1)}\n                  >{el}</PuzzLink>\n                  <PuzzTitle className=\"puzzTitle\" vis={hover==el}>{titles[el-1]}</PuzzTitle>\n                </>)}\n              </PuzzTd>)\n            }\n          </tr>\n        </StyledTableHead>\n        <StyledTableBody>\n        {queryLoading || queryError || (\n          sortedData().map((entry,idx) => (\n            entry ? (\n              <Entry\n                key={entry.id}\n                index={idx}\n                {...entry}\n                show={show-1}\n                loggedId={loggedId}\n              />\n            ) : ''\n          )))}\n        </StyledTableBody>\n      </StyledTable>\n      {queryLoading && <p>Fetching data...</p>}\n      {queryError && <p>Failed to fetch data, try refreshing the page.</p>}\n    </>\n  )\n}\n\nexport default Scores","import React, { useState, useEffect } from 'react'\nimport Scores from './components/Scores'\nimport {\n  Title,\n  BackgroundDiv,\n  BodyDiv,\n} from '../styles'\nimport Header from '../components/Header'\nimport Footer from '../components/Footer'\nimport { decodeToken } from '../auth'\n\nconst Leaderboard = () => {\n  const [user, setUser] = useState({})\n  const [loggedId, setId] = useState(decodeToken(localStorage.getItem('token')).id)\n  const [loading, setLoading] = useState(!!localStorage.getItem('token'))\n  useEffect(() => {\n    document.title = \"Leaderboard | Harvard Puzzle Hunt\"\n  }, [])\n  const logout = () => {\n    setId(null)\n    setLoading(false)\n  }\n  return (\n    <BackgroundDiv>\n      <Header user={user} setUser={setUser} customLogout={logout} loading={loading} onPage=\"Leaderboard\" />\n      <BodyDiv>\n        {/* <StyledLink to=\"/\">Home</StyledLink>\n        <StyledLink to=\"/submit\">Submit</StyledLink>\n        <StyledLink to=\"/puzzles\">Puzzles</StyledLink> */}\n        <Title>Leaderboard: Summer 2021 Contest</Title>\n        <Scores setUser={setUser} loggedId={loggedId} setLoading={setLoading} />\n      </BodyDiv>\n      <Footer/>\n    </BackgroundDiv>\n  )\n}\n\nexport default Leaderboard\n","import styled from 'styled-components'\n\nexport const StyledInput = styled.input`\n  padding: auto;\n  margin: auto;\n  box-sizing: border-box;\n  /* height: 20px; */\n  width: 100%;\n`\n\nexport const StyledSelect = styled.select`\n  margin: auto;\n  padding: auto;\n  box-sizing: border-box;\n  /* height: 20px; */\n  padding: 1px;\n  width: 100%;\n`\n\nexport const FancyButton = styled.button`\n  /* background: rgb(100,220,100); */\n  background: rgb(138,249,81);\n  border: black 1px;\n  border-style: solid;\n  border-radius: 4px;\n  font-family: ${({theme}) => theme.fonts.family};\n  cursor: pointer;\n  margin-top: 21px;\n  padding: 2px;\n  width: 80px;\n  align-self: center;\n\n  &:hover {\n    color: white;\n    /* background-color: rgb(10,150,10); */\n    background-color: rgb(122,222,107);\n  }\n`\n\nexport const FormDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  /* padding: -10px; */\n  /* width: 500px; */\n  margin: auto;\n  margin-top: 15px;\n  /* top: 3vh; */\n`\n\nexport const InputDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`\n\nexport const InputTitle = styled.p`\n  line-height: 19px;\n  margin-bottom: 5px;\n`\n\nexport const TitleDiv = styled.div`\n  margin: auto;\n  align-items: left;\n  text-align: left;\n  width: 180px;\n`\n\nexport const TextBoxDiv = styled.div`\n  margin: auto;\n  align-items: left;\n  text-align: left;\n  margin-bottom: 1px;\n  /* border: solid black 2px; */\n  width: 180px;\n`\n\nexport const MessageDiv = styled.div`\n  text-align: center;\n  width: 400px;\n  height: 50px;\n  margin: auto;\n  margin-top: 6px;\n  margin-bottom: 8px;\n`\n\nexport const ErrorMsg = styled.p`\n  color: red;\n  font-size: 15px;\n`\n\nexport const LoadingMsg = styled.p`\n  color: black;\n  font-size: 15px;\n`\n\nexport const SuccessMsg = styled.p`\n  color: green;\n  font-size: 15px;\n`","import React from 'react'\nimport { StyledInput, InputDiv, TitleDiv, TextBoxDiv, InputTitle } from '../styles'\n\nexport const Input = ({\n  label, type, state, setState, onKeyPress, setSucc\n}) => (\n  <InputDiv>\n    <TitleDiv>\n      <InputTitle>{label}</InputTitle>\n    </TitleDiv>\n    <TextBoxDiv>\n      <StyledInput\n        value={state}\n        type={type}\n        onChange={e => {\n          setState(e.target.value)\n          !!setSucc && setSucc(\"\")\n        }}\n        onKeyPress={onKeyPress}\n      />\n    </TextBoxDiv>\n  </InputDiv>\n)\n\nexport default Input","import React from 'react'\nimport { numPuzzles, getDate } from '../../../App'\nimport { StyledSelect, InputDiv, TitleDiv, TextBoxDiv, InputTitle } from '../styles'\n\nexport const Dropdown = ({\n  label, state, setState, options, setSucc\n}) => (\n  <InputDiv>\n    <TitleDiv>\n      <InputTitle>{label}</InputTitle>\n    </TitleDiv>\n    <TextBoxDiv>\n      <StyledSelect value={state} onChange={e => {\n        setState(e.target.value)\n        setSucc(\"\")\n      }} >\n        {options.map((el,idx) => (\n          <option key={idx} value={el}>{el <= numPuzzles ? el : getDate()+(getDate+1).substring(46,49)}</option>\n        ))}\n      </StyledSelect>\n    </TextBoxDiv>\n  </InputDiv>\n)\n\nexport default Dropdown","import React, { useState } from 'react'\nimport { useQuery, useMutation } from '@apollo/react-hooks'\nimport Input from './Input'\nimport Dropdown from './Dropdown'\nimport { numPuzzles, contestOver } from '../../../App'\nimport { ALL_USERS, USER_BY_ID, LOGIN, UPDATE_EMAIL, UPDATE_PUZZLES } from '../../graphql'\nimport {\n  FancyButton, FormDiv,\n  MessageDiv, ErrorMsg, LoadingMsg, SuccessMsg,\n} from '../styles'\nimport { decodeToken } from '../../auth'\n\nconst Form = ({ user, setUser, err, setErr, token, setToken, tokenExists, setTokenExists, setLoading }) => {\n  const [name, setName] = useState('')\n  const [password, setPass] = useState('')\n  const [emailErr, setEmailErr] = useState(\"\")\n  const [succ, setSucc] = useState(\"\")\n  const [emailSucc, setEmailSucc] = useState(false)\n  const [email, setEmail] = useState(\"\")\n  const [puzzle, setPuzzle] = useState(1)\n  const [answer, setAnswer] = useState(\"\")\n  const [options, setOptions] = useState([...Array(numPuzzles+1).keys()].slice(1))\n  const checkErr = (err, msg) => {\n    setLoading(false)\n    if (err.includes(\"CUSTOM:\")) {\n      setErr(err.replace('GraphQL error: CUSTOM: ', ''))\n    } else {\n      setErr(msg)\n    }\n  }\n  const lowestUnsolved = user => {\n    const scores = user.score.toString(3).split(\"\").reverse().map(el => parseInt(el))\n    const num = numPuzzles+(user.foundSecret ? 1 : 0)\n    for (let i = 0; i < num; i++) {\n      if (!scores[i]) {\n        setPuzzle(i+1)\n        return\n      }\n    }\n    setPuzzle(num)\n  }\n  const { loading: userLoading } = useQuery(USER_BY_ID, {\n    variables: {\n      id: decodeToken(token).id\n    },\n    onError: error => {\n      setToken(\"\")\n      setErr(\"Previous credentials invalid. Please re-enter your information.\")\n      setLoading(false)\n    },\n    onCompleted: ({ userById: user }) => {\n      setUser(user)\n      setLoading(false)\n      setEmail(!!user.email ? user.email : \"\")\n      setErr(\"\")\n      setOptions([...Array(numPuzzles+1+(user.foundSecret ? 1 : 0)).keys()].slice(1))\n      lowestUnsolved(user)\n    },\n    skip: !tokenExists,\n  })\n  const [login, { loading: loginLoading }] = useMutation(LOGIN, {\n    variables: {\n      displayName: name,\n      password,\n    },\n    onError: error => {\n      checkErr(error.message, \"Login failed. Try refreshing the page.\")\n    },\n    onCompleted: ({ login: { user, token }}) => {\n      localStorage.setItem('token', token)\n      setLoading(false)\n      setUser(user)\n      setEmail(!!user.email ? user.email : \"\")\n      setErr(\"\")\n      setEmailErr(\"\")\n      setSucc(\"\")\n      setEmailSucc(\"\")\n      setOptions([...Array(numPuzzles+1+(user.foundSecret ? 1 : 0)).keys()].slice(1))\n      lowestUnsolved(user)\n    },\n    refetchQueries: [\n      { query: ALL_USERS },\n    ]\n  })\n  const [updateEmail, { loading: emailLoading }] = useMutation(UPDATE_EMAIL, {\n    variables: {\n      id: user.id,\n      email,\n    },\n    onError: error => {\n      checkErr(error.message, \"Failed to update email. Try refreshing the page.\")\n    },\n    onCompleted: data => {\n      setEmailErr(\"\")\n      setEmailSucc(true)\n    },\n  })\n  const upd = () => {\n    console.log(user.id,puzzle - 1 == numPuzzles ? numPuzzles + 1 : puzzle - 1,answer)\n    updatePuzzles()\n  }\n  const [updatePuzzles, { loading: puzzLoading }] = useMutation(UPDATE_PUZZLES, {\n    variables: {\n      id: user.id,\n      // puzzle: puzzle - 1,\n      puzzle: puzzle - 1 == numPuzzles ? numPuzzles + 1 : puzzle - 1,\n      answer,\n    },\n    onError: error => {\n      // checkErr(error.message, \"Failed to process submission. Try refreshing the page.\")\n      checkErr(error.message, error.message)\n    },\n    onCompleted: ({ updatePuzzles: user }) => {\n      setErr(\"\")\n      setOptions([...Array(numPuzzles+1+(user.foundSecret ? 1 : 0)).keys()].slice(1))\n      if (!user.displayName) {\n        setPuzzle(numPuzzles+1)\n        setSucc(\"You found the secret puzzle!\")\n      } else {\n        const indx = puzzle - 1 == numPuzzles ? numPuzzles + 1 : puzzle - 1\n        const score = user.score.toString(3).split(\"\").reverse()[indx]\n        const first = user.firsts.toString(2).split(\"\").reverse()[indx]\n        console.log(score,first)\n        if (score == \"1\" && !contestOver) {\n          setSucc(\"Correct! And you might be first!\")\n        } else if (first == \"1\") {\n          setSucc(\"Correct! And you're the first to solve this puzzle!\")\n        } else {\n          setSucc(\"Correct!\")\n        }\n      }\n    },\n    refetchQueries: [\n      { query: ALL_USERS },\n    ]\n  })\n  const verifyUsername = () => {\n    const l = name.length\n    if (l < 2 || l > 20) {\n      return false\n    }\n    if (name[0] === ' ' || name[l-1] === ' ') {\n      return false\n    }\n    return (/^[0-9a-zA-Z`~!@#$%^= +\\[\\]{}\\\\|;:'\",<>./?&*_()-]*$/.test(name))\n  }\n  const verifyPassword = () => {\n    return password.length >= 3\n  }\n  const loading = () => (!!token && userLoading) || loginLoading\n  const loginButton = () => {\n    setLoading(true)\n    setTokenExists(false)\n    let errStr = \"\"\n    if (!verifyUsername()) {\n      errStr += \"Username must have 2-20 characters, no leading or trailing spaces, and use only characters on a standard keyboard.\"\n    }\n    if (!verifyPassword()) {\n      errStr += !!errStr ? \" \" : \"\"\n      errStr += \"Password must have at least 3 characters.\"\n    }\n    setErr(errStr)\n    if (!errStr) {\n      login()\n      setAnswer(\"\")\n    } else {\n      setLoading(false)\n    }\n  }\n  const loginEnter = e => {\n    if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n      loginButton()\n    }\n  }\n  const answerEnter = e => {\n    if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n      upd()\n    }\n  }\n  const emailButton = () => {\n    const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n    const validEmail = emailRegex.test(email.toLowerCase())\n    if (!validEmail) {\n      setEmailErr('Please enter a valid email.')\n      return\n    }\n    updateEmail()\n  }\n  const emailEnter = e => {\n    if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n      emailButton()\n    }\n  }\n  return (\n    <>\n      { !user.id ?\n        <FormDiv>\n          { !token &&\n            <>\n              <Input\n                label=\"Team Name\"\n                type=\"text\"\n                state={name}\n                setState={setName}\n                onKeyPress={loginEnter}\n              />\n              <Input\n                label=\"Password\"\n                type=\"password\"\n                state={password}\n                setState={setPass}\n                onKeyPress={loginEnter}\n              />\n              <FancyButton onClick={loginButton}>Sign In</FancyButton>\n              {/* <p>{`${name} ${password}`}</p> */}\n            </>\n          }\n          <MessageDiv>\n            {loading() ? <LoadingMsg>{\n              tokenExists\n                ? \"Previous credentials detected. Attempting to sign in...\"\n                : \"Signing in...\"\n            }</LoadingMsg> :\n             !!err && <ErrorMsg>{err}</ErrorMsg>}\n          </MessageDiv>\n        </FormDiv>\n      : <FormDiv>\n          <Dropdown\n            label=\"Puzzle\"\n            state={puzzle}\n            setState={setPuzzle}\n            options={options}\n            setSucc={setSucc}\n          />\n          <Input\n            label=\"Answer\"\n            type=\"text\"\n            state={answer}\n            setState={setAnswer}\n            onKeyPress={answerEnter}\n          />\n          <FancyButton onClick={upd}>Submit</FancyButton>\n          <MessageDiv>\n            {puzzLoading ? <LoadingMsg>{`Processing submission...`}</LoadingMsg> :\n             !!err ? <ErrorMsg>{err}</ErrorMsg> :\n             !!succ && <SuccessMsg>{succ}</SuccessMsg>}\n          </MessageDiv>\n          {/* <p>{`${user.id} ${puzzle} ${answer}`}</p> */}\n          <Input\n            label=\"Email\"\n            type=\"text\"\n            state={email}\n            setState={setEmail}\n            onKeyPress={emailEnter}\n            setSucc={setEmailSucc}\n          />\n          <FancyButton onClick={emailButton}>Update</FancyButton>\n          <MessageDiv>\n            {emailLoading ? <LoadingMsg>{`Updating...`}</LoadingMsg> :\n             !!emailErr ? <ErrorMsg>{emailErr}</ErrorMsg> :\n             !!emailSucc && <SuccessMsg>Updated!</SuccessMsg>}\n          </MessageDiv>\n        </FormDiv>\n      }\n    </>\n  )\n}\n\nexport default Form\n","import React, { useState, useEffect } from 'react'\nimport {\n  Title, BackgroundDiv, BodyDiv,\n} from '../styles'\nimport Form from './components/Form'\nimport Header from '../components/Header'\nimport Footer from '../components/Footer'\n\nconst Submit = () => {\n  const [user, setUser] = useState({})\n  const [err, setErr] = useState(\"\")\n  const [token, setToken] = useState(localStorage.getItem('token'))\n  const [tokenExists, setTokenExists] = useState(!!localStorage.getItem('token'))\n  const [loading, setLoading] = useState(!!localStorage.getItem('token'))\n  useEffect(() => {\n    document.title = \"Submit | Harvard Puzzle Hunt\"\n  }, [])\n  const logout = () => {\n    setTokenExists(false)\n    setLoading(false)\n    setToken(\"\")\n    setErr(\"\")\n  }\n  return (\n    <BackgroundDiv>\n      <Header user={user} setUser={setUser} customLogout={logout} loading={loading} onPage=\"Submit\" />\n      <BodyDiv>\n        {/* <StyledLink to=\"/\">Home</StyledLink>\n        <StyledLink to=\"/leaderboard\">Leaderboard</StyledLink>\n        <StyledLink to=\"/puzzles\">Puzzles</StyledLink> */}\n        <Title>Submission Page: Summer 2021 Contest</Title>\n        <Form\n          user={user} setUser={setUser}\n          err={err} setErr={setErr}\n          token={token} setToken={setToken}\n          tokenExists={tokenExists} setTokenExists={setTokenExists}\n          setLoading={setLoading}\n          logout={logout}\n        />\n      </BodyDiv>\n      <Footer/>\n    </BackgroundDiv>\n  )\n}\n\nexport default Submit\n","import styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nexport const PuzzleLink = styled(Link)`\n  font-size: 19px;\n  margin: auto;\n  margin-top: 7px;\n  margin-bottom: 7px;\n`","import React, { useState, useEffect } from 'react'\nimport { useQuery } from '@apollo/react-hooks'\nimport { USER_BY_ID } from '../graphql'\nimport {\n  BackgroundDiv,\n  Title,\n  BodyDiv,\n} from '../styles'\nimport {\n  PuzzleLink,\n} from './styles'\nimport { numPuzzles } from '../../App'\nimport titles from '../Puzzle/titles'\nimport Header from '../components/Header'\nimport Footer from '../components/Footer'\nimport { decodeToken } from '../auth'\n\nconst PuzzleHome = () => {\n  const [user, setUser] = useState({})\n  useEffect(() => {\n    document.title = \"Puzzles | Harvard Puzzle Hunt\"\n  }, [])\n  const { loading } = useQuery(USER_BY_ID, {\n    variables: {\n      id: decodeToken(localStorage.getItem('token')).id\n    },\n    onCompleted: ({ userById: user }) => {\n      setUser(user)\n    },\n    skip: !localStorage.getItem('token'),\n  })\n  return (\n    <BackgroundDiv>\n      <Header user={user} setUser={setUser} loading={loading} onPage=\"Puzzles\" />\n      <BodyDiv>\n        <Title>Puzzles: Summer 2021 Contest</Title>\n        {/* <StyledLink to=\"/\">Home</StyledLink>\n        <StyledLink to=\"/leaderboard\">Leaderboard</StyledLink>\n        <StyledLink to=\"/submit\">Submit</StyledLink> */}\n        {[...Array(numPuzzles+1).keys()].slice(1).map((el,idx) => <PuzzleLink key={idx} to={`/puzzles/${el}`}>{titles[el-1]}</PuzzleLink>)}\n      </BodyDiv>\n      <Footer/>\n    </BackgroundDiv>\n  )\n}\n\nexport default PuzzleHome\n","import styled from 'styled-components'\n\nexport const FullDiv = styled.div`\n  width: 100vw;\n  height: 100vh;\n  margin: 0;\n`","import React, { useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport titles from './titles'\nimport { FullDiv } from './styles'\nimport { getDate } from '../../App'\n\nconst Puzzle = () => {\n  const { puzzle } = useParams()\n  const title = titles[puzzle-1]\n  const date = getDate()+(getDate+1).substring(46,49)\n  useEffect(() => {\n    document.title = `${!!title ? title : date.charAt(0).toUpperCase()+date.slice(1)+\" Puzzle\"} | Harvard Puzzle Hunt`\n  }, [])\n  return (\n    <FullDiv>\n      <object data={`${title}.pdf`} type=\"application/pdf\" width=\"100%\" height=\"100%\" />\n    </FullDiv>\n  )\n}\n\nexport default Puzzle\n","import styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nexport const PuzzleLink = styled(Link)`\n  font-size: 19px;\n  margin: auto;\n  margin-top: 7px;\n  margin-bottom: 7px;\n`","import React, { useState, useEffect } from 'react'\nimport { useQuery } from '@apollo/react-hooks'\nimport { USER_BY_ID } from '../graphql'\nimport {\n  BackgroundDiv, BodyDiv, Title, Subtitle, StyledP, Subsubtitle, SubP, HiddenLink,\n} from '../styles'\nimport { PuzzleLink } from './styles'\nimport { getDate } from '../../App'\nimport Header from '../components/Header'\nimport Footer from '../components/Footer'\nimport { decodeToken } from '../auth'\n\nconst Secret = () => {\n  const [user, setUser] = useState({})\n  const date = getDate()+(getDate+1).substring(46,49)\n  useEffect(() => {\n    document.title = `${date.charAt(0).toUpperCase()+date.slice(1)+\" Puzzle\"} | Harvard Puzzle Hunt`\n  }, [])\n  const { loading } = useQuery(USER_BY_ID, {\n    variables: {\n      id: decodeToken(localStorage.getItem('token')).id\n    },\n    onCompleted: ({ userById: user }) => {\n      setUser(user)\n    },\n    skip: !localStorage.getItem('token'),\n  })\n  return (\n    <BackgroundDiv>\n      <Header user={user} setUser={setUser} loading={loading} />\n      <BodyDiv home={true} >\n        <Title>You found the secret puzzle!</Title>\n        <StyledP>\n          However, before you can access the secret puzzle, you'll need to crack the password...\n          maybe consider joining our <b>mailing list</b> (again?) for some inspiration... Use the password\n          to <b>access the puzzle itself</b>, and <b>enter the password on the submissions\n          page</b> (under any puzzle) in order to be able to <b>unlock the submission portal</b> for it. Good luck!\n        </StyledP>\n        <PuzzleLink to={`/puzzles/${date}`}>Continue to puzzle...</PuzzleLink>\n      </BodyDiv>\n      <Footer/>\n    </BackgroundDiv>\n  )\n}\n\nexport default Secret\n","import React, { useState, useEffect } from 'react'\nimport { ApolloProvider } from '@apollo/react-hooks'\nimport { Switch, Route, BrowserRouter as Router, Redirect } from 'react-router-dom'\nimport { ThemeProvider } from 'styled-components'\nimport theme from './theme'\nimport client from './client'\nimport Home from './containers/Home'\nimport Hints from './containers/Hints'\nimport Leaderboard from './containers/Leaderboard'\nimport Submit from './containers/Submit'\nimport PuzzleHome from './containers/PuzzleHome'\nimport Puzzle from './containers/Puzzle'\nimport Secret from './containers/Secret'\n\nexport const numPuzzles = 4\nexport const contestStarted = true\nexport const contestOver = false\n// for ACTUAL site\nexport const getDate = () => {\n  const year = (new Date()).getFullYear() % 1000\n  const currTime = ((new Date(year)).getMilliseconds+1).substring(year-4,year-1)\n  return currTime\n}\n// for LOCAL site\n// export const getDate = () => {\n//   const yer = (new Date()).getFullYear(\"ret\") % 1000\n//   const currTime = ((new Date(yer)).getMilliseconds+1).substring(yer-4,yer-1)\n//   return currTime\n// }\n\nconst App = () => {\n  const [show, setShow] = useState(\"hidden\")\n  useEffect(() => {\n    setTimeout(() => {\n      setShow(\"visible\")\n    },200)\n  }, [])\n  const date = getDate()+(getDate+1).substring(46,49)\n  return (\n    <Router forceRefresh={true}>\n      <ThemeProvider theme={theme}>\n        <ApolloProvider client={client}>\n          <div className=\"App\" style={{visibility: show}}>\n            { contestStarted ? \n              <Switch>\n                <Route exact path=\"/hints\" component={Hints} />\n                <Redirect from=\"/hints\" to=\"/hints\" />\n                <Route exact path=\"/submit\" component={Submit} />\n                <Redirect from=\"/submit\" to=\"/submit\" />\n                <Route exact path=\"/leaderboard\" component={Leaderboard} />\n                <Redirect from=\"/leaderboard\" to=\"/leaderboard\" />\n                <Route path={`/puzzles/:puzzle(${[...Array(numPuzzles + 1).keys()].join(\"|\").substring(2)}|${date})`} component={Puzzle} />\n                <Route exact path=\"/puzzles\" component={PuzzleHome} />\n                <Redirect from=\"/puzzles\" to=\"/puzzles\" />\n                <Route exact path={`/${date}`} component={Secret} />\n                <Redirect from={`/${date}`} to={`/${date}`} />\n                <Route exact path=\"/\" component={Home} />\n                <Redirect to=\"/\" />\n              </Switch> :\n              <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <Redirect to=\"/\" />\n              </Switch>\n            }\n          </div>\n        </ApolloProvider>\n      </ThemeProvider>\n    </Router>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}